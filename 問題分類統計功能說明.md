# 問題分類統計功能說明

## ** 功能概述**

本系統實現了智能的問題分類統計功能，能夠自動識別問題內容並將其歸類到相應的網絡協議類別中，對於無法歸類的問題則納入"其他"類別。

## ** 分類邏輯**

### **智能分類規則：**

1. **協議關鍵詞匹配** - 根據問題內容中的協議關鍵詞進行分類
2. **優先級處理** - HTTPS 優先於 HTTP 進行匹配
3. **多語言支持** - 支持中英文關鍵詞識別
4. **模糊匹配** - 包含相關技術術語的識別

### **分類類別：**

系統支持以下 40+ 個網絡協議分類：

#### **路由協議類：**

- OSPF (開放最短路徑優先協議)
- BGP (邊界網關協議)
- RIP (路由信息協議)
- EIGRP (增強內部網關路由協議)
- OSPFv3 (IPv6 OSPF)
- RIPng (IPv6 RIP)
- BGP4+ (增強版 BGP)
- IS-IS (中間系統到中間系統協議)

#### **交換協議類：**

- VLAN (虛擬局域網)
- STP (生成樹協議)
- RSTP (快速生成樹協議)
- MSTP (多生成樹協議)
- VRRP (虛擬路由器冗餘協議)
- HSRP (熱備份路由器協議)
- GLBP (網關負載均衡協議)

#### **安全與控制類：**

- ACL (訪問控制列表)
- NAT (網絡地址轉換)
- VPN (虛擬專用網)
- QoS (服務質量)
- SSH (安全殼協議)

#### **應用協議類：**

- HTTP/HTTPS (超文本傳輸協議)
- FTP (文件傳輸協議)
- SMTP (簡單郵件傳輸協議)
- DNS (域名系統)
- DHCP (動態主機配置協議)
- SNMP (簡單網絡管理協議)

#### **傳輸協議類：**

- TCP (傳輸控制協議)
- UDP (用戶數據報協議)
- ICMP (互聯網控制消息協議)

#### **網絡層協議類：**

- IPv4/IPv6 (互聯網協議)
- ARP/RARP (地址解析協議)
- IGMP (互聯網組管理協議)
- PIM (協議無關組播)

#### **MPLS 相關：**

- MPLS (多協議標籤交換)
- LDP (標籤分發協議)
- RSVP (資源預留協議)

#### **其他類：**

- 其他問題 (無法歸類到上述類別的問題)

## ** 實現架構**

### **前端實現：**

- `CategoryService` - 分類邏輯服務
- `dashboard_page.dart` - 統計圖表顯示
- 智能關鍵詞匹配算法
- 彩色分類標識

### **後端實現：**

- `feedbacks.py` - API 端點
- 數據庫查詢優化
- 實時統計計算

## ** 使用方式**

### **API 端點：**

```
GET /api/questions/categories
```

### **返回格式：**

```json
{
  "success": true,
  "total_questions": 150,
  "categories": [
    {
      "category": "OSPF",
      "count": 25,
      "percentage": 16.7
    },
    {
      "category": "其他",
      "count": 15,
      "percentage": 10.0
    }
  ]
}
```

## ** 統計顯示**

### **圖表特性：**

- 彩色分類標識
- 百分比進度條
- 數量統計顯示
- 中文顯示名稱
- 智能排序（其他類別置後）

### **視覺效果：**

- 每個分類有專屬顏色
- 進度條動畫效果
- 響應式佈局
- 清晰的數據展示

## ** 維護與擴展**

### **添加新分類：**

1. 在 `CategoryService.protocolCategories` 中添加關鍵詞
2. 在 `getCategoryDisplayName()` 中添加顯示名稱
3. 在 `getCategoryColor()` 中添加顏色配置

### **關鍵詞優化：**

- 支持中英文混合
- 支持技術術語變體
- 支持縮寫和全稱
- 支持相關概念詞彙

## ** 測試驗證**

系統已通過以下測試：

- ✅ 40+ 種協議分類測試
- ✅ 中英文關鍵詞識別
- ✅ 優先級處理驗證
- ✅ 其他類別歸類
- ✅ 統計計算準確性
- ✅ 顯示效果驗證

## ** 性能優化**

- 使用 Set 進行問題去重
- 優化關鍵詞匹配算法
- 緩存分類結果
- 數據庫查詢優化

## ** 未來改進**

1. **機器學習分類** - 引入 NLP 技術提高分類準確性
2. **自定義分類** - 允許用戶自定義分類規則
3. **歷史趨勢** - 添加分類統計的時間趨勢分析
4. **智能建議** - 基於分類提供相關解決方案建議
